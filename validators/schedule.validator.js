// validators/schedule.validator.js
import Joi from "joi";

export const createScheduleSchema = Joi.object({
  orderId: Joi.string().uuid().required(),
  vehicle_id: Joi.string().optional().allow(null, ""),
  vessel_name: Joi.string().optional().allow(null, ""),
  departure_time: Joi.date().optional().allow(null),
  arrival_time: Joi.date().optional().allow(null),
  road_condition_status: Joi.string().optional().allow(null, ""),
  weather_condition: Joi.string().optional().allow(null, ""),
  cost_usd: Joi.number().optional().allow(null),
  notes: Joi.string().optional().allow(null, ""),
  
  // Weather attributes
  temperature_c: Joi.number().optional().allow(null),
  humidity_percent: Joi.number().optional().allow(null),
  rainfall_mm: Joi.number().optional().allow(null),
  wind_speed_mps: Joi.number().optional().allow(null),
  wind_direction_deg: Joi.number().optional().allow(null),
  visibility_km: Joi.number().optional().allow(null),
  pressure_hpa: Joi.number().optional().allow(null),
  sea_state_level: Joi.string().optional().allow(null, ""),
  wave_height_m: Joi.number().optional().allow(null),
  tide_level_m: Joi.number().optional().allow(null),
  storm_warning: Joi.boolean().optional().allow(null),
  
  // Road attributes
  surface_type: Joi.string().optional().allow(null, ""),
  surface_condition: Joi.string().optional().allow(null, ""),
  pothole_density: Joi.number().optional().allow(null),
  slope_angle_degrees: Joi.number().optional().allow(null),
  traffic_density: Joi.string().optional().allow(null, ""),
  flood_level_m: Joi.number().optional().allow(null),
  access_status: Joi.string().optional().allow(null, ""),
  dust_level_ppm: Joi.number().optional().allow(null),
  ground_vibration_mm_s: Joi.number().optional().allow(null),
  road_temperature_c: Joi.number().optional().allow(null),
  soil_moisture_percent: Joi.number().optional().allow(null),
  maintenance_activity: Joi.boolean().optional().allow(null),
  accident_count: Joi.number().integer().optional().allow(null),
  
  // Equipment attributes
  machine_type: Joi.string().optional().allow(null, ""),
  engine_temperature_c: Joi.number().optional().allow(null),
  oil_pressure_bar: Joi.number().optional().allow(null),
  fuel_level_percent: Joi.number().optional().allow(null),
  engine_rpm: Joi.number().optional().allow(null),
  vibration_level_g: Joi.number().optional().allow(null),
  hydraulic_pressure_bar: Joi.number().optional().allow(null),
  working_hours: Joi.number().optional().allow(null),
  maintenance_status: Joi.string().optional().allow(null, ""),
  fault_code: Joi.string().optional().allow(null, ""),
  operational_mode: Joi.string().optional().allow(null, ""),
  ambient_temperature_c: Joi.number().optional().allow(null),
  gear_position: Joi.string().optional().allow(null, ""),
  fuel_consumption_l_h: Joi.number().optional().allow(null),
  torque_nm: Joi.number().optional().allow(null),
  engine_load_percent: Joi.number().optional().allow(null),
  
  // Vessel attributes
  delay_minutes: Joi.number().integer().optional().allow(null),
  cargo_type_vessel: Joi.string().optional().allow(null, ""),
  load_weight_tons: Joi.number().optional().allow(null),
  port_condition: Joi.string().optional().allow(null, ""),
  weather_impact_score: Joi.number().optional().allow(null),
  sea_condition_code: Joi.string().optional().allow(null, ""),
  crew_availability_percent: Joi.number().optional().allow(null),
  vessel_status: Joi.string().optional().allow(null, ""),
  fuel_consumption_tons: Joi.number().optional().allow(null),
  distance_traveled_km: Joi.number().optional().allow(null),
  average_speed_knots: Joi.number().optional().allow(null),
  departure_hour: Joi.number().integer().optional().allow(null),
  departure_weekday: Joi.string().optional().allow(null, ""),
  departure_month: Joi.string().optional().allow(null, ""),
  planned_duration_hours: Joi.number().optional().allow(null),
  
  // Meta data
  weather_meta: Joi.object().optional().allow(null),
  road_meta: Joi.object().optional().allow(null),
  equipment_meta: Joi.object().optional().allow(null),
  vessel_meta: Joi.object().optional().allow(null)
});

export const updateScheduleSchema = Joi.object({
  status: Joi.string().valid("Planned","Ongoing","Completed","Delayed","Cancelled").optional(),
  notes: Joi.string().optional().allow(null,""),
  road_condition_status: Joi.string().optional().allow(null,""),
  weather_condition: Joi.string().optional().allow(null,""),
  
  // Weather attributes
  temperature_c: Joi.number().optional().allow(null),
  humidity_percent: Joi.number().optional().allow(null),
  rainfall_mm: Joi.number().optional().allow(null),
  wind_speed_mps: Joi.number().optional().allow(null),
  wind_direction_deg: Joi.number().optional().allow(null),
  visibility_km: Joi.number().optional().allow(null),
  pressure_hpa: Joi.number().optional().allow(null),
  sea_state_level: Joi.string().optional().allow(null, ""),
  wave_height_m: Joi.number().optional().allow(null),
  tide_level_m: Joi.number().optional().allow(null),
  storm_warning: Joi.boolean().optional().allow(null),
  
  // Road attributes
  surface_type: Joi.string().optional().allow(null, ""),
  surface_condition: Joi.string().optional().allow(null, ""),
  pothole_density: Joi.number().optional().allow(null),
  slope_angle_degrees: Joi.number().optional().allow(null),
  traffic_density: Joi.string().optional().allow(null, ""),
  flood_level_m: Joi.number().optional().allow(null),
  access_status: Joi.string().optional().allow(null, ""),
  dust_level_ppm: Joi.number().optional().allow(null),
  ground_vibration_mm_s: Joi.number().optional().allow(null),
  road_temperature_c: Joi.number().optional().allow(null),
  soil_moisture_percent: Joi.number().optional().allow(null),
  maintenance_activity: Joi.boolean().optional().allow(null),
  accident_count: Joi.number().integer().optional().allow(null),
  
  // Equipment attributes
  machine_type: Joi.string().optional().allow(null, ""),
  engine_temperature_c: Joi.number().optional().allow(null),
  oil_pressure_bar: Joi.number().optional().allow(null),
  fuel_level_percent: Joi.number().optional().allow(null),
  engine_rpm: Joi.number().optional().allow(null),
  vibration_level_g: Joi.number().optional().allow(null),
  hydraulic_pressure_bar: Joi.number().optional().allow(null),
  working_hours: Joi.number().optional().allow(null),
  maintenance_status: Joi.string().optional().allow(null, ""),
  fault_code: Joi.string().optional().allow(null, ""),
  operational_mode: Joi.string().optional().allow(null, ""),
  ambient_temperature_c: Joi.number().optional().allow(null),
  gear_position: Joi.string().optional().allow(null, ""),
  fuel_consumption_l_h: Joi.number().optional().allow(null),
  torque_nm: Joi.number().optional().allow(null),
  engine_load_percent: Joi.number().optional().allow(null),
  
  // Vessel attributes
  delay_minutes: Joi.number().integer().optional().allow(null),
  cargo_type_vessel: Joi.string().optional().allow(null, ""),
  load_weight_tons: Joi.number().optional().allow(null),
  port_condition: Joi.string().optional().allow(null, ""),
  weather_impact_score: Joi.number().optional().allow(null),
  sea_condition_code: Joi.string().optional().allow(null, ""),
  crew_availability_percent: Joi.number().optional().allow(null),
  vessel_status: Joi.string().optional().allow(null, ""),
  fuel_consumption_tons: Joi.number().optional().allow(null),
  distance_traveled_km: Joi.number().optional().allow(null),
  average_speed_knots: Joi.number().optional().allow(null),
  departure_hour: Joi.number().integer().optional().allow(null),
  departure_weekday: Joi.string().optional().allow(null, ""),
  departure_month: Joi.string().optional().allow(null, ""),
  planned_duration_hours: Joi.number().optional().allow(null)
});